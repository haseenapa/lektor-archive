{% extends "layout.html" %}
{% block body %}
  <div class="editor pane">
    <div class="container">
      <h3>Edit “{{ g.source.record_label }}”</h3>
      <div class=meta>
        <dl>
          <dt>Path:
          <dd>{{ g.source['_path'] }}
          <dt>ID:
          <dd>{% if g.source['_id'] %}{{ g.source['_id'] }}{% else %}<em>(Empty ID)</em>{% endif %}
          <dt>GID:
          <dd>{{ g.source['_gid'] }}
          <dt>Model:
          <dd><code>{{ g.source['_model'] }}</code>
          <dt>URL Path:
          <dd>
          {% if g.source.parent %}
            <code>{{ g.source.parent.url_path.rstrip('/') }}/</code>
            <input type=text name="_slug" value="{{ raw_record['_slug']
              }}" placeholder="{{ default_slug }}">
          {% else %}
            <em>Forced to </em><code>/</code>
          {% endif %}
          </dd>
          <dt>Template:
          <dd><input type=text name="_template" value="{{ raw_record['_template']
            }}" placeholder="{{ default_template }}">
        </dl>
      </div>

      <div class="edit-area">
        {% for field in g.source.datamodel.fields %}
          <div class="field">
            <h4>{{ field.label }}</h4>
            <input type="text" name="{{ field.name }}" value="{{ raw_record[field.name] }}">
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}
